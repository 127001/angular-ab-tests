{"version":3,"file":"directive.js","sourceRoot":"","sources":["../../lib/directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAU,gBAAgB,EAAE,WAAW,EAAE,KAAK,EAAE,MAAM,eAAe,CAAC;AACxF,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;;IAUzC,gCACU,QAAwB,EACxB,cAAgC,EAChC,YAA8B;QAF9B,aAAQ,GAAR,QAAQ,CAAgB;QACxB,mBAAc,GAAd,cAAc,CAAkB;QAChC,iBAAY,GAAZ,YAAY,CAAkB;4BALR,KAAK;KAMjC;IAEJ,yCAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/E,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SAC3D;KACF;0BAGG,iDAAa;uBAAC,KAAa;YAC7B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;;;;0BAIhC,sDAAkB;uBAAC,KAAa;YAClC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;;;;;0BAIlB,4DAAwB;uBAAC,KAAc;YACzC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;;;;;;gBAhC7B,SAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;iBAC5B;;;;gBAJQ,cAAc;gBADK,gBAAgB;gBAAE,WAAW;;;kCAuBtD,KAAK;uCAKL,KAAK;6CAKL,KAAK;;iCAjCR;;SAMa,sBAAsB","sourcesContent":["import { Directive, OnInit, ViewContainerRef, TemplateRef, Input } from '@angular/core';\nimport { AbTestsService } from './service';\n\n@Directive({\n  selector: '[abTestVersion]'\n})\nexport class AbTestVersionDirective implements OnInit {\n  private _versions: string[];\n  private _scope: string;\n  private _forCrawlers: boolean = false;\n\n  constructor(\n    private _service: AbTestsService,\n    private _viewContainer: ViewContainerRef,\n    private _templateRef: TemplateRef<any>\n  ) {}\n\n  ngOnInit() {\n    if (this._service.shouldRender(this._versions, this._scope, this._forCrawlers)) {\n      this._viewContainer.createEmbeddedView(this._templateRef);\n    }\n  }\n\n  @Input()\n  set abTestVersion(value: string) {\n    this._versions = value.split(',');\n  }\n\n  @Input()\n  set abTestVersionScope(value: string) {\n    this._scope = value;\n  }\n\n  @Input()\n  set abTestVersionForCrawlers(value: boolean) {\n    this._forCrawlers = value;\n  }\n}\n"]}