{"version":3,"file":"module.js","sourceRoot":"","sources":["../../lib/module.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAuB,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAC3C,OAAO,EAAE,MAAM,EAAE,6BAA6B,EAAE,+BAA+B,EAAE,+BAA+B,EAAE,MAAM,oBAAoB,CAAC;AAC7I,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,eAAe,EAAE,MAAM,WAAW,CAAC;AAC5E,OAAO,EAAE,sBAAsB,EAAE,MAAM,aAAa,CAAC;;;;IAsB5C,qBAAO,GAAd,UAAe,OAAwB;QACrC,MAAM,CAAC;YACL,QAAQ,EAAE,aAAa;YACvB,SAAS,EAAE;gBACT,cAAc;gBACd,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE;gBACtC,EAAE,OAAO,EAAE,6BAA6B,EAAE,QAAQ,EAAE,aAAa,EAAE;gBACnE,EAAE,OAAO,EAAE,+BAA+B,EAAE,QAAQ,EAAE,eAAe,EAAE;gBACvE,EAAE,OAAO,EAAE,+BAA+B,EAAE,QAAQ,EAAE,eAAe,EAAE;aACxE;SACF,CAAA;KACF;;gBApBF,QAAQ,SAAC;oBACR,YAAY,EAAE;wBACZ,sBAAsB;qBACvB;oBACD,OAAO,EAAE;wBACP,sBAAsB;qBACvB;iBACF;;;;wBAxBD;;SAyBa,aAAa","sourcesContent":["import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { AbTestsService } from './service';\nimport { CONFIG, AB_TESTS_COOKIE_HANDLER_TOKEN, AB_TESTS_CRAWLER_DETECTOR_TOKEN, AB_TESTS_RANDOM_EXTRACTOR_TOKEN } from './injection-tokens';\nimport { CookieHandler, CrawlerDetector, RandomExtractor } from './classes';\nimport { AbTestVersionDirective } from './directive';\n\nexport interface AbTestOptions {\n  versions: string[];\n  domain?: string;\n  versionForCrawlers?: string;\n  scope?: string;\n  expiration?: number;\n  weights?: {\n    [x: string]: number,\n  };\n}\n\n@NgModule({\n  declarations: [\n    AbTestVersionDirective\n  ],\n  exports: [\n    AbTestVersionDirective\n  ],\n})\nexport class AbTestsModule {\n  static forRoot(configs: AbTestOptions[]): ModuleWithProviders {\n    return {\n      ngModule: AbTestsModule,\n      providers: [\n        AbTestsService,\n        { provide: CONFIG, useValue: configs },\n        { provide: AB_TESTS_COOKIE_HANDLER_TOKEN, useClass: CookieHandler },\n        { provide: AB_TESTS_CRAWLER_DETECTOR_TOKEN, useClass: CrawlerDetector },\n        { provide: AB_TESTS_RANDOM_EXTRACTOR_TOKEN, useClass: RandomExtractor },\n      ],\n    }\n  }\n}\n"]}